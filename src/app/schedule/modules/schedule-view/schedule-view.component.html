<state-mapper [observable]="schedule$">
  <ng-container *stateMapperDefaultState="let type = type">
    <container-primary>
      <skeleton-plug [plugComponent]="SchedulePlugComponent" [plug]="type" />
    </container-primary>
  </ng-container>
  <ng-container *stateMapperLoadedState="let data = data">
    <schedule-add-lesson-view *hasPermission="'editSchedule'" [availableLessons]="data.lessons" />
    <base-schedule [schedule]="data" />
  </ng-container>
</state-mapper>
